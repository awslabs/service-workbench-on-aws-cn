"use strict";(self.webpackChunkservice_workbench_docusaurus=self.webpackChunkservice_workbench_docusaurus||[]).push([[8474],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(n),m=r,h=p["".concat(s,".").concat(m)]||p[m]||d[m]||o;return n?a.createElement(h,i(i({ref:t},u),{},{components:n})):a.createElement(h,i({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},9282:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return u},default:function(){return p}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),i=["components"],l={id:"data_sources",title:"Data Sources",sidebar_label:"Data Sources"},s=void 0,c={unversionedId:"user_guide/sidebar/common/studies/data_sources",id:"user_guide/sidebar/common/studies/data_sources",isDocsHomePage:!1,title:"Data Sources",description:"Introduction ##",source:"@site/docs/user_guide/sidebar/common/studies/data_sources.md",sourceDirName:"user_guide/sidebar/common/studies",slug:"/user_guide/sidebar/common/studies/data_sources",permalink:"/service-workbench-on-aws-cn/user_guide/sidebar/common/studies/data_sources",editUrl:"https://github.com/awslabs/go-research-on-aws/website/docs/user_guide/sidebar/common/studies/data_sources.md",tags:[],version:"current",frontMatter:{id:"data_sources",title:"Data Sources",sidebar_label:"Data Sources"},sidebar:"serviceWorkbenchSidebar",previous:{title:"Creating a Study",permalink:"/service-workbench-on-aws-cn/user_guide/sidebar/common/studies/creating_a_study"},next:{title:"Studies Page",permalink:"/service-workbench-on-aws-cn/user_guide/sidebar/common/studies/studies_page"}},u=[{value:"Introduction",id:"introduction",children:[],level:2},{value:"Registering an external Study with Service Workbench",id:"registering-an-external-study-with-service-workbench",children:[{value:"Step 1: Set up an external Study account",id:"step-1-set-up-an-external-study-account",children:[],level:3},{value:"Step 2: Specify the S3 bucket details",id:"step-2-specify-the-s3-bucket-details",children:[],level:3},{value:"Step 3: Specify the Study project details",id:"step-3-specify-the-study-project-details",children:[],level:3}],level:2},{value:"Onboarding an external Study account",id:"onboarding-an-external-study-account",children:[],level:2},{value:"Removing External Studies",id:"removing-external-studies",children:[],level:2}],d={toc:u};function p(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"Service Workbench can host Studies internally, and provide access to External Studies residing in S3 buckets external to the AWS account where the application was deployed. The Data Sources page enables administrators to configure and manage these Studies."),(0,o.kt)("p",null,"The external study account must provide Service Workbench with permissions to access the specific S3 bucket and path that contain the data for the External Study. These permissions are created in the external account using an AWS CloudFormation template generated by the application."),(0,o.kt)("p",null,"The Data Sources page lists external Studies that have been registered with Service Workbench.  External Studies also appear on the Studies page, where permissions are configured."),(0,o.kt)("h2",{id:"registering-an-external-study-with-service-workbench"},"Registering an external Study with Service Workbench"),(0,o.kt)("p",null,"To register an external Study, follow these steps:"),(0,o.kt)("h3",{id:"step-1-set-up-an-external-study-account"},"Step 1: Set up an external Study account"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Navigate to the ",(0,o.kt)("strong",{parentName:"li"},"Data Sources")," page using the menu on the left."),(0,o.kt)("li",{parentName:"ol"},"Click the ",(0,o.kt)("strong",{parentName:"li"},"Register Studies")," button."),(0,o.kt)("li",{parentName:"ol"},"Enter the AWS Account ID for the AWS account containing the S3 bucket.",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Previously registered external Study accounts are available in the drop-down. "),(0,o.kt)("li",{parentName:"ul"},"If a previously registered account is chosen, skip to step 2."))),(0,o.kt)("li",{parentName:"ol"},"Select the region that will be used to deploy the onboarding template."),(0,o.kt)("li",{parentName:"ol"},"Enter an account name for identifying this account in the Service Workbench UI."),(0,o.kt)("li",{parentName:"ol"},"Specify optional contact information for the account.")),(0,o.kt)("h3",{id:"step-2-specify-the-s3-bucket-details"},"Step 2: Specify the S3 bucket details"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"For ",(0,o.kt)("strong",{parentName:"li"},"Bucket Name"),", choose a name of the external S3 bucket.",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Previously registered external buckets are available in the drop-down."),(0,o.kt)("li",{parentName:"ul"},"If a previously registered bucket is chosen, skip to step 3."))),(0,o.kt)("li",{parentName:"ol"},"For ",(0,o.kt)("strong",{parentName:"li"},"Bucket Region"),", choose a region."),(0,o.kt)("li",{parentName:"ol"},"For ",(0,o.kt)("strong",{parentName:"li"},"Bucket Default Encryption"),", if the external bucket uses ",(0,o.kt)("strong",{parentName:"li"},"AWS Key Management Service key (SSE-KMS)"),", then a value is required for the ",(0,o.kt)("strong",{parentName:"li"},"KMS Arn")," field.")),(0,o.kt)("h3",{id:"step-3-specify-the-study-project-details"},"Step 3: Specify the Study project details"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Add Study"),". "),(0,o.kt)("li",{parentName:"ol"},"For ",(0,o.kt)("strong",{parentName:"li"},"Study Id"),", enter a unique Study ID."),(0,o.kt)("li",{parentName:"ol"},"For ",(0,o.kt)("strong",{parentName:"li"},"Study Name"),", enter the Study name."),(0,o.kt)("li",{parentName:"ol"},"For ",(0,o.kt)("strong",{parentName:"li"},"Study Folder"),", enter the folder name (path in the S3 bucket)."),(0,o.kt)("li",{parentName:"ol"},"For ",(0,o.kt)("strong",{parentName:"li"},"Project"),", choose a project."),(0,o.kt)("li",{parentName:"ol"},"Choose the ",(0,o.kt)("strong",{parentName:"li"},"Type"),". For more information, refer to ",(0,o.kt)("a",{parentName:"li",href:"/user_guide/sidebar/common/studies/creating_a_study"},"Creating a Study"),"."),(0,o.kt)("li",{parentName:"ol"},"For ",(0,o.kt)("strong",{parentName:"li"},"Access"),", choose either ",(0,o.kt)("strong",{parentName:"li"},"Read Only")," or ",(0,o.kt)("strong",{parentName:"li"},"Read/Write"),". Appropriate permissions can be assigned on a per-user basis on the Studies page, if it is an organization's Study."),(0,o.kt)("li",{parentName:"ol"},"For ",(0,o.kt)("strong",{parentName:"li"},"Description"),", enter the Study project details."),(0,o.kt)("li",{parentName:"ol"},"For ",(0,o.kt)("strong",{parentName:"li"},"Study KMS ARN"),", enter the value, if applicable."),(0,o.kt)("li",{parentName:"ol"},"For ",(0,o.kt)("strong",{parentName:"li"},"Admin"),", choose one or more admins for the Study, if it is an organization's Study. This can be edited later on the ",(0,o.kt)("strong",{parentName:"li"},"Studies")," page."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Save & Continue"),".")),(0,o.kt)("p",null,"An information panel is displayed indicating the account, bucket, and Study have been registered within Service Workbench. The final step is to use the generated CloudFormation template to onboard the account."),(0,o.kt)("h2",{id:"onboarding-an-external-study-account"},"Onboarding an external Study account"),(0,o.kt)("p",null,"If an external study account is being onboarded with Service Workbench for the first time, then ",(0,o.kt)("em",{parentName:"p"},"Create Stack")," option is selected. The application will generate a new CloudFormation template suitable for first-time onboarding."),(0,o.kt)("p",null,'If the external study account has already been onboarded (refer to "Registering an External Study with Service Workbench" section above), then the ',(0,o.kt)("em",{parentName:"p"},"Update Stack")," option is selected. The application generates an update to the previously deployed CloudFormation template."),(0,o.kt)("p",null,"To onboard an external study account for the first time:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"In the ",(0,o.kt)("strong",{parentName:"li"},"Register Studies")," window, click ",(0,o.kt)("strong",{parentName:"li"},"Next")," to display CloudFormation template information."),(0,o.kt)("li",{parentName:"ol"},"The generated CloudFormation template, specific to the external study account and external S3 bucket is displayed. The appropriate ",(0,o.kt)("em",{parentName:"li"},"Create Stack")," or ",(0,o.kt)("em",{parentName:"li"},"Update Stack")," option is selected."),(0,o.kt)("li",{parentName:"ol"},"If you have admin access to the external study account:",(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"In a new browser tab, log in to the external study account in the AWS Management Console. Ensure the correct region is selected."),(0,o.kt)("li",{parentName:"ol"},"In Service Workbench, click the ",(0,o.kt)("strong",{parentName:"li"},"Create Stack")," or ",(0,o.kt)("strong",{parentName:"li"},"Update Stack")," button as appropriate to load the CloudFormation template into the AWS Management Console."),(0,o.kt)("li",{parentName:"ol"},"In AWS Management Console, follow the prompts and click ",(0,o.kt)("strong",{parentName:"li"},"Create Stack"),"."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Done"),"."))),(0,o.kt)("li",{parentName:"ol"},"If you do not have admin access to the AWS account where the S3 bucket resides:",(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"Click the button to copy the CloudFormation template link to the clipboard."),(0,o.kt)("li",{parentName:"ol"},"Create an email to the admins of the account containing the link to the CloudFormation template.\nNote: Link to the CloudFormation template is valid for 12 hours."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Done"),"."))),(0,o.kt)("li",{parentName:"ol"},"The Data Sources page is displayed, with the newly registered study in the ",(0,o.kt)("em",{parentName:"li"},"Pending")," status. After all onboarding has been completed and Service Workbench can reach the Study, it will show the status as Available. "),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Test Connection"),".")),(0,o.kt)("h2",{id:"removing-external-studies"},"Removing External Studies"),(0,o.kt)("p",null,"Removing external Studies is not supported at this time and it will be available in a future release."),(0,o.kt)("p",null,'To remove access to the data in the external study account, delete the CloudFormation stack in the AWS account (specified in the "Onboarding an external Study account section above"). This removes permissions enabling access to the data.'))}p.isMDXComponent=!0}}]);