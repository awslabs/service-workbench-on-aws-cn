"use strict";(self.webpackChunkservice_workbench_docusaurus=self.webpackChunkservice_workbench_docusaurus||[]).push([[6445],{3905:function(e,n,t){t.d(n,{Zo:function(){return m},kt:function(){return d}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=r.createContext({}),s=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},m=function(e){var n=s(e.components);return r.createElement(l.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},u=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,m=c(e,["components","mdxType","originalType","parentName"]),u=s(t),d=a,g=u["".concat(l,".").concat(d)]||u[d]||p[d]||o;return t?r.createElement(g,i(i({ref:n},m),{},{components:t})):r.createElement(g,i({ref:n},m))}));function d(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=u;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var s=2;s<o;s++)i[s]=t[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}u.displayName="MDXCreateElement"},3919:function(e,n,t){function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function a(e){return void 0!==e&&!r(e)}t.d(n,{b:function(){return r},Z:function(){return a}})},4996:function(e,n,t){t.d(n,{C:function(){return o},Z:function(){return i}});var r=t(2263),a=t(3919);function o(){var e=(0,r.Z)().siteConfig,n=(e=void 0===e?{}:e).baseUrl,t=void 0===n?"/":n,o=e.url;return{withBaseUrl:function(e,n){return function(e,n,t,r){var o=void 0===r?{}:r,i=o.forcePrependBaseUrl,c=void 0!==i&&i,l=o.absolute,s=void 0!==l&&l;if(!t)return t;if(t.startsWith("#"))return t;if((0,a.b)(t))return t;if(c)return n+t;var m=t.startsWith(n)?t:n+t.replace(/^\//,"");return s?e+m:m}(o,t,e,n)}}}function i(e,n){return void 0===n&&(n={}),(0,o().withBaseUrl)(e,n)}},8808:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return m},toc:function(){return p},default:function(){return d}});var r=t(7462),a=t(3366),o=(t(7294),t(3905)),i=t(4996),c=["components"],l={id:"iam_role",title:"Reference",sidebar_label:"Add an AWS IAM role to an Amazon EC2 instance"},s=void 0,m={unversionedId:"deployment/reference/iam_role",id:"deployment/reference/iam_role",isDocsHomePage:!1,title:"Reference",description:"Service Workbench on AWS interacts with multiple AWS resources, including Amazon EC2, AWS IAM, AWS Organizations, and more. You can easily add an AWS IAM role to an Amazon EC2 instance, leverage our AWS Organizations with your account structure, and create multiple Amazon S3 buckets.",source:"@site/docs/deployment/reference/iam_role.md",sourceDirName:"deployment/reference",slug:"/deployment/reference/iam_role",permalink:"/service-workbench-on-aws-cn/deployment/reference/iam_role",editUrl:"https://github.com/awslabs/go-research-on-aws/website/docs/deployment/reference/iam_role.md",tags:[],version:"current",frontMatter:{id:"iam_role",title:"Reference",sidebar_label:"Add an AWS IAM role to an Amazon EC2 instance"},sidebar:"serviceWorkbenchSidebar",previous:{title:"Deploying Updates",permalink:"/service-workbench-on-aws-cn/deployment/redeployment"},next:{title:"AWS Cloud Services",permalink:"/service-workbench-on-aws-cn/deployment/reference/aws_services"}},p=[{value:"Adding an AWS IAM role to an Amazon EC2 instance",id:"adding-an-aws-iam-role-to-an-amazon-ec2-instance",children:[{value:"Adding an administrator role to a new Amazon EC2 instance",id:"adding-an-administrator-role-to-a-new-amazon-ec2-instance",children:[],level:3},{value:"Adding a role to an existing instance",id:"adding-a-role-to-an-existing-instance",children:[],level:3}],level:2}],u={toc:p};function d(e){var n=e.components,t=(0,a.Z)(e,c);return(0,o.kt)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Service Workbench on AWS interacts with multiple AWS resources, including Amazon EC2, AWS IAM, AWS Organizations, and more. You can easily add an AWS IAM role to an Amazon EC2 instance, leverage our AWS Organizations with your account structure, and create multiple Amazon S3 buckets. "),(0,o.kt)("h2",{id:"adding-an-aws-iam-role-to-an-amazon-ec2-instance"},"Adding an AWS IAM role to an Amazon EC2 instance"),(0,o.kt)("p",null,"An Amazon EC2 instance can be assigned an instance profile that contains an AWS IAM role. The AWS IAM role gives the Amazon EC2 instance a set of permissions. The Amazon EC2 instance only performs the actions defined by its AWS IAM role. Adding an AWS IAM role to the Amazon EC2 instance allows your application to make API calls securely\u2014eliminating the need to manage security credentials."),(0,o.kt)("p",null,"The Service Workbench deployment application must be able to create AWS resources. The easiest way to meet this requirement is to give the Amazon EC2 instance an administrator role."),(0,o.kt)("h3",{id:"adding-an-administrator-role-to-a-new-amazon-ec2-instance"},"Adding an administrator role to a new Amazon EC2 instance"),(0,o.kt)("p",null,"When creating a new Amazon EC2 instance for a Service Workbench deployment, an instance profile may be assigned to the Amazon EC2 instance. Choose ",(0,o.kt)("strong",{parentName:"p"},"Create a new IAM role")," located next to the AWS IAM role drop-down. The following figures display an image of the Create a New IAM role action in the AWS Management Console. "),(0,o.kt)("img",{src:(0,i.Z)("img/deployment/reference/iam_00.jpg")}),(0,o.kt)("img",{src:(0,i.Z)("img/deployment/reference/iam_01.jpg")}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"Figure 25: Create a new AWS IAM role"))),(0,o.kt)("p",null,"To continue the process, highlight Amazon EC2 and proceed to permissions. "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"In \u2018",(0,o.kt)("strong",{parentName:"li"},"Permissions"),"\u2019, filter for \u2018",(0,o.kt)("strong",{parentName:"li"},"AdministratorAccess"),"\u2019 and select it. ")),(0,o.kt)("img",{src:(0,i.Z)("img/deployment/reference/iam_02.jpg")}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"Figure: Permissions in Amazon EC2 instance"))),(0,o.kt)("img",{src:(0,i.Z)("img/deployment/reference/iam_03.jpg")}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"Figure: Filtering for administrator's access"))),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Proceed through \u2018",(0,o.kt)("strong",{parentName:"li"},"Tags"),"\u2019. "),(0,o.kt)("li",{parentName:"ol"},"On the \u2018",(0,o.kt)("strong",{parentName:"li"},"Review"),"\u2019 page, enter the role name. ")),(0,o.kt)("img",{src:(0,i.Z)("img/deployment/reference/iam_04.jpg")}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"Figure: Choosing a role name for an Amazon EC2 instance"))),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"In the Amazon EC2 tab, refresh the AWS IAM role drop-down, and choose the administrator role that is to be attached to the new Amazon EC2 instance.  ")),(0,o.kt)("img",{src:(0,i.Z)("img/deployment/reference/iam_05.jpg")}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"Figure: Selecting the administrator role of the Amazon EC2 instance"))),(0,o.kt)("ol",{start:5},(0,o.kt)("li",{parentName:"ol"},"Create an Amazon EC2 instance. ")),(0,o.kt)("h3",{id:"adding-a-role-to-an-existing-instance"},"Adding a role to an existing instance"),(0,o.kt)("p",null,"To add a role to an Amazon EC2 instance that is already running, select the Amazon EC2 instance in the EC2 Console. Open the ",(0,o.kt)("strong",{parentName:"p"},"Action > Instance Settings")," menu, and select ",(0,o.kt)("strong",{parentName:"p"},"Attach/Replace IAM Role"),". The following figure shows the ",(0,o.kt)("strong",{parentName:"p"},"Instance Settings")," menu."),(0,o.kt)("img",{src:(0,i.Z)("img/deployment/reference/iam_06.jpg")}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"Figure: Attach/Replace an AWS IAM Role in the EC2 Console"))),(0,o.kt)("p",null,"In the ",(0,o.kt)("strong",{parentName:"p"},"Attach/Replace IAM Role")," screen, search for the role you created, select it, and choose ",(0,o.kt)("strong",{parentName:"p"},"Apply"),". The following figure shows the screen where you can attach/replace an IAM role. \t "),(0,o.kt)("img",{src:(0,i.Z)("img/deployment/reference/iam_07.jpg")}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"Figure: AWS IAM role search"))))}d.isMDXComponent=!0}}]);