"use strict";(self.webpackChunkservice_workbench_docusaurus=self.webpackChunkservice_workbench_docusaurus||[]).push([[8386],{3905:function(e,t,r){r.d(t,{Zo:function(){return l},kt:function(){return f}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=n.createContext({}),p=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},l=function(e){var t=p(e.components);return n.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),d=p(r),f=o,m=d["".concat(c,".").concat(f)]||d[f]||u[f]||a;return r?n.createElement(m,s(s({ref:t},l),{},{components:r})):n.createElement(m,s({ref:t},l))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,s=new Array(a);s[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var p=2;p<a;p++)s[p]=r[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},3919:function(e,t,r){function n(e){return!0===/^(\w*:|\/\/)/.test(e)}function o(e){return void 0!==e&&!n(e)}r.d(t,{b:function(){return n},Z:function(){return o}})},4996:function(e,t,r){r.d(t,{C:function(){return a},Z:function(){return s}});var n=r(2263),o=r(3919);function a(){var e=(0,n.Z)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,r=void 0===t?"/":t,a=e.url;return{withBaseUrl:function(e,t){return function(e,t,r,n){var a=void 0===n?{}:n,s=a.forcePrependBaseUrl,i=void 0!==s&&s,c=a.absolute,p=void 0!==c&&c;if(!r)return r;if(r.startsWith("#"))return r;if((0,o.b)(r))return r;if(i)return t+r;var l=r.startsWith(t)?r:t+r.replace(/^\//,"");return p?e+l:l}(a,r,e,t)}}}function s(e,t){return void 0===t&&(t={}),(0,a().withBaseUrl)(e,t)}},1767:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return c},contentTitle:function(){return p},metadata:function(){return l},toc:function(){return u},default:function(){return f}});var n=r(7462),o=r(3366),a=(r(7294),r(3905)),s=r(4996),i=["components"],c={id:"egress_store_approval_process",title:"Exporting data from AppStream-enabled workspaces",sidebar_label:"Exporting data from AppStream-enabled workspaces"},p=void 0,l={unversionedId:"deployment/reference/egress_store_approval_process",id:"deployment/reference/egress_store_approval_process",isDocsHomePage:!1,title:"Exporting data from AppStream-enabled workspaces",description:"As a researcher, if you have AppStream and Egress store enabled, AppStream provides limited access to the workspace that is being used. You can view and use data within that workspace. When you work on this data, it can be saved in the Egress folder, and then a request can be made to export that data. But if you want to export data from that workspace, it requires approval.",source:"@site/docs/deployment/reference/egress_store_approval_process.md",sourceDirName:"deployment/reference",slug:"/deployment/reference/egress_store_approval_process",permalink:"/service-workbench-on-aws-cn/deployment/reference/egress_store_approval_process",editUrl:"https://github.com/awslabs/go-research-on-aws/website/docs/deployment/reference/egress_store_approval_process.md",tags:[],version:"current",frontMatter:{id:"egress_store_approval_process",title:"Exporting data from AppStream-enabled workspaces",sidebar_label:"Exporting data from AppStream-enabled workspaces"},sidebar:"serviceWorkbenchSidebar",previous:{title:"Prepare the organizational Account",permalink:"/service-workbench-on-aws-cn/deployment/reference/prepare_master_account"},next:{title:"Account Structure",permalink:"/service-workbench-on-aws-cn/user_guide/account_structure"}},u=[],d={toc:u};function f(e){var t=e.components,r=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"As a researcher, if you have AppStream and Egress store enabled, AppStream provides limited access to the workspace that is being used. You can view and use data within that workspace. When you work on this data, it can be saved in the Egress folder, and then a request can be made to export that data. But if you want to export data from that workspace, it requires approval. "),(0,a.kt)("p",null,"In the following example, you don\u2019t currently have access to the ",(0,a.kt)("inlineCode",{parentName:"p"},"hello.txt")," file out of your workspace. Hence, you need permission to export this file. The ",(0,a.kt)("strong",{parentName:"p"},"Submit Egress Request")," button shown in the figure below is used to export data from your workspace. "),(0,a.kt)("img",{src:(0,s.Z)("img/deployment/reference/egress1.png")}),(0,a.kt)("p",null,"When you choose ",(0,a.kt)("strong",{parentName:"p"},"Submit Egress Request"),", the file gets picked up by the SNS topic. The SNS topic has following format:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"<env-name>-<AwsRegionName>-<SolutionName>-EgressTopic")),(0,a.kt)("p",null,"For example, it can look like this:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"prod-iad-sw-EgressTopic")),(0,a.kt)("img",{src:(0,s.Z)("img/deployment/reference/egress2.png")}),(0,a.kt)("p",null,"The SNS topic allows an administrator to determine which files you would like to export from the workspace. The administrator can subscribe to the SNS topic to receive updates when a user submits an Egress request. For example, the administrator can subscribe a Lambda function to process the Egress submission request or could also provide an email address."),(0,a.kt)("img",{src:(0,s.Z)("img/deployment/reference/egress3.png")}),(0,a.kt)("p",null,"After subscribing to the SNS topic, the administrator receives information in the following JSON file format:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'{\n      "egress_store_object_list_location": "<REDACTED>/sagemaker-11-egress-store-ver1.json",\n      "id": "<REDACTED>",\n      "egress_store_id": "<REDACTED>",\n      "egress_store_name": "sagemaker-11-egress-store",\n      "created_at": "2021-10-15T19:03:09.367Z",\n      "created_by": "<REDACTED>",\n      "created_by_email": "<REDACTED>@amazon.com",\n      "workspace_id": "<REDACTED>",\n      "project_id": "proj-new-account-1",\n      "s3_bucketname": "<REDACTED>",\n      "s3_bucketpath": "<REDACTED>/",\n      "status": "PENDING",\n      "updated_by": "<REDACTED>",\n       "updated_by_email": "<REDACTED>@amazon.com",\n      "updated_at": "2021-10-25T18:45:02.883Z",\n      "ver": 1\n}\n')),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"egress_store_object_list_location")," section of the code provides the S3 location of a JSON file that lists the files for which the export request has been made by the researcher. For example, the JSON file appears as:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'{\n    "objects": [\n        {\n           "Key": "ddf05a79-646d-442c-9dd3-88454753a1f2/",\n           "LastModified": "2021-12-21T18:49:15.000Z",\n           "ETag": "\\"ea2dea32611f8e65498d75036cdbf88a\\"",\n           "Size": 0,\n           "StorageClass": "STANDARD",\n           "VersionId": "ihxQnhu6DNw2OlKctZjAyj.XxBmEOk4B",\n           "Owner": {\n                "ID": "c3bc599bfa8ef4ddd90576205045dd986d755dbf80330012efa9bbb00b95d453"\n            }\n        },\n        {\n           "Key": "ddf05a79-646d-442c-9dd3-88454753a1f2/hello.txt",\n           "LastModified": "2021-12-22T19:39:58.000Z",\n           "ETag": "\\"61ed55766b67aa6bbad881c12cf1d922\\"",\n           "Size": 12,\n           "StorageClass": "STANDARD",\n           "VersionId": "2W0H0AMVor2Zxhw22xOrayf4a9frGxXY",\n           "Owner": {\n                "ID": "c3bc599bfa8ef4ddd90576205045dd986d755dbf80330012efa9bbb00b95d453"\n            }\n        }\n    ]\n}\n')),(0,a.kt)("p",null,"This means that the researcher requested permission for exporting the ",(0,a.kt)("inlineCode",{parentName:"p"},"hello.txt")," file, which is stored in the ",(0,a.kt)("inlineCode",{parentName:"p"},"ddf05a79-646d-442c-9dd3-88454753a1f2")," folder."),(0,a.kt)("p",null,"The file is stored in an S3 bucket of the main account. The S3 bucket has the following format:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"<aws-account-id>-<env-name>-<AwsRegionName>-<SolutionName>-egress-store")),(0,a.kt)("p",null,"As an administrator, you can use the information above to approve the file export."))}f.isMDXComponent=!0}}]);