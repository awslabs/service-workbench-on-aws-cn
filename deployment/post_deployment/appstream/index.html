<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">Prepare your account for AppStream | Service Workbench Platform</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/post_deployment/appstream"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Prepare your account for AppStream | Service Workbench Platform"><meta data-react-helmet="true" name="description" content="Note: Read this section only if you want to enable AppStream."><meta data-react-helmet="true" property="og:description" content="Note: Read this section only if you want to enable AppStream."><link data-react-helmet="true" rel="shortcut icon" href="/service-workbench-on-aws-cn/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/post_deployment/appstream"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/post_deployment/appstream" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/post_deployment/appstream" hreflang="x-default"><link rel="stylesheet" href="/service-workbench-on-aws-cn/assets/css/styles.d97de6cb.css">
<link rel="preload" href="/service-workbench-on-aws-cn/assets/js/runtime~main.4cbe2071.js" as="script">
<link rel="preload" href="/service-workbench-on-aws-cn/assets/js/main.e8ff6809.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/service-workbench-on-aws-cn/"><b class="navbar__title">Home</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">English</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">ServiceWorkBench</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Service Workbench Installation Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Service Workbench Configuration Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Deployment Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Service Workbench Configuration Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Service Workbench Post Deployment Guide</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Post Deployment</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/index">Post Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/account_structure">Account structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/reference/prepare_master_account">Prepare the organizational Account</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/appstream">Prepare your account for AppStream</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/aws_accounts">Create or add accounts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/create_index_project">Create indexes and projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/create_admin_user">Create an administrator user</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/import_service_catalog_products">Import AWS Service Catalog products</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/logs">Viewing Service Workbench logs</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/redeployment">Deploying Updates</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Reference</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Service Workbench User Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Best Practices</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Development Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ä¸­æ–‡</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">åŠ¨æ‰‹å®žè·µ</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Prepare your account for AppStream</h1></header><p><strong>Note</strong>: <em>Read this section only if you want to enable AppStream.</em></p><p>AWS AppStream service limits may block resource creation in a new AWS account, or an account that has not yet hosted AppStream resources.  The following actions will best prepare the hosting account.</p><ol><li><strong>Required</strong>: Go to AppStream 2.0 services (AWS Console), and choose Get Started. This will take you to a screen asking if you want to try out some templates. At this screen choose Next. This will only need to be done once for the account (it activates a role required for AppStream to be initiated).</li><li><strong>Recommended</strong>: Launch at least one EC2 instance (size of instance and duration of run prior to termination do not matter), as this establishes the base compute service limits.</li><li><strong>Optional</strong>: Open a support ticket within the hosting account to AWS AppStream service, noting your intention to create a fleet.  This should only be necessary if you are creating a large fleet, but if the account is very new or has never had resources created prior to being onboarded as a hosting account, this is recommended.</li></ol><p>Once prerequisites are complete and the CloudFormation stack has been created, go to AppStream on the AWS console of the hosting account. Go to <strong>Fleet</strong> and then choose the newly created fleet. Choose <strong>Action</strong>&gt;<strong>Start</strong> to start the fleet.  This step must be completed for any researcher workspace to be successfully launched within the hosting account.</p><p>After proceeding from the Onboard AWS Account Screen, you will be returned to the Account listing page with a status.</p><ul><li><strong>Up to Date</strong> : The account has successfully onboarded and the version of the main and hosting account code is in sync.</li><li><strong>Needs Update</strong> : This status means that the main account code is more up to date than the hosting account code.  There is an update button available and it is advised that you use this to bring the hosting account to the latest version.</li><li><strong>Needs Onboarding</strong> : The account has been onboarded via the Service Workbench UI but the cloudformation template has not been generated</li><li><strong>Errored</strong> : The onboarding of the hosting account failed. Check the cloudformation stack in the hosting account.</li><li><strong>Pending</strong> : The account onboarding process is ongoing.  If a hosting account remains in pending status beyond 30 minute, it is likely that there is an issue onboarding the account. Check the CloudFormation stack in the hosting account.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="setting-up-an-appstream-image">Setting up an AppStream Image<a aria-hidden="true" class="hash-link" href="#setting-up-an-appstream-image" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="overview">Overview<a aria-hidden="true" class="hash-link" href="#overview" title="Direct link to heading">â€‹</a></h3><p>This section describes the procedure of setting up an AppStream image with the following applications installed: Firefox, Notepad, PuttyGen, and Putty. AppStream should be built in the main account. To do this:</p><ul><li>Launch an AppStream Image Builder instance.</li><li>Log in to the AppStream Image builder instance and run a script to build an image with Firefox, PuttyGen, Putty, and Notepad.</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="pre-requisites">Pre-requisites<a aria-hidden="true" class="hash-link" href="#pre-requisites" title="Direct link to heading">â€‹</a></h3><ol><li>Navigate to AWS AppStream in your main account using the AWS Management Console.</li><li>Choose <strong>Get Started</strong> and then choose <strong>Next</strong>. This activates AppStream in your main account, following which you could proceed with the commands in <code>SETUP.md</code> file.</li></ol><h3 class="anchor anchorWithStickyNavbar_y2LR" id="launching-an-appstream-image-builder-instance">Launching an AppStream Image Builder instance<a aria-hidden="true" class="hash-link" href="#launching-an-appstream-image-builder-instance" title="Direct link to heading">â€‹</a></h3><ol><li><p>Navigate to the <code>scripts/app-stream</code> directory.</p></li><li><p>Enter the following commands:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm run start-image-builder </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-- &lt;AWS Profile&gt; &lt;region&gt; &lt;Base image name&gt; &lt;instance size&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Example: npm run start-image-builder -- default us-east-1 </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">AppStream-WinServer2019-10-08-2021 stream.standard.medium</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># If preferred you can choose the default base image name and instance size by running this command: </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm run start-image-builder -- default us-east-1 default default </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p> <strong>Note</strong>: Set up your AWS profile beforehand so that you have permission to launch an AppStream Image Builder instance in your AWS Account. </p></li><li><p>Once the Image Builder is launched and ready, choose the URL provided in the terminal console. This opens the AppStream page on the AWS Management Console.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_y2LR" id="building-appstream-image">Building AppStream image<a aria-hidden="true" class="hash-link" href="#building-appstream-image" title="Direct link to heading">â€‹</a></h3><img src="/service-workbench-on-aws-cn/img/deployment/post_deployment/buildappstream.png"><p><em><strong>Figure: Create an AppStream image</strong></em></p><ol><li><p>On the AppStream page in the console, choose the AppStream image that was built in the previous step and choose <strong>Connect</strong>.</p></li><li><p>This opens a new tab in your browser. When prompted, log in as administrator. This opens the Windows Desktop that you can interact with to create your AppStream image.</p></li><li><p>On the Windows Desktop, choose <strong>Start</strong> and enter <code>Windows Powershell</code>.</p></li><li><p>Right-click the application and choose <strong>Run as administrator</strong>.</p></li><li><p>Enter the following commands:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd ~\Documents</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Pull the Image Builder script from Github</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Invoke-WebRequest -Uri https://raw.githubusercontent.com/awslabs/service-workbench-on-aws/mainline/scripts/app-stream/buildImage.ps1 -OutFile buildImage.ps1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Execute Image builder script</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">.\buildImage.ps1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li><p>At this point, the Image builder builds your image and the <code>Failed to reserve a session</code> message is displayed. </p></li><li><p>Log in to AppStream on the console and wait till the AppStream image is built.</p></li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/awslabs/go-research-on-aws/website/docs/deployment/post_deployment/appstream.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/service-workbench-on-aws-cn/deployment/reference/prepare_master_account"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Prepare the organizational Account</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/service-workbench-on-aws-cn/deployment/post_deployment/aws_accounts"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Create or add accounts<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setting-up-an-appstream-image" class="table-of-contents__link toc-highlight">Setting up an AppStream Image</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#pre-requisites" class="table-of-contents__link toc-highlight">Pre-requisites</a></li><li><a href="#launching-an-appstream-image-builder-instance" class="table-of-contents__link toc-highlight">Launching an AppStream Image Builder instance</a></li><li><a href="#building-appstream-image" class="table-of-contents__link toc-highlight">Building AppStream image</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/service-workbench-on-aws-cn/assets/js/runtime~main.4cbe2071.js"></script>
<script src="/service-workbench-on-aws-cn/assets/js/main.e8ff6809.js"></script>
</body>
</html>