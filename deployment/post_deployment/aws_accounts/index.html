<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-deployment/post_deployment/aws_accounts">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Create or add accounts | Service Workbench Platform</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/post_deployment/aws_accounts"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Create or add accounts | Service Workbench Platform"><meta data-rh="true" name="description" content="After logging in as root user for the first time, go to the &#x27;Accounts&#x27; page in the SideBar. Service Workbench uses AWS accounts on this page for launching research workspaces. You can add existing AWS accounts or create new ones on the &#x27;Accounts&#x27; tab.  Accounts are responsible for the charges incurred by the resources that are deployed within the Service Workbench."><meta data-rh="true" property="og:description" content="After logging in as root user for the first time, go to the &#x27;Accounts&#x27; page in the SideBar. Service Workbench uses AWS accounts on this page for launching research workspaces. You can add existing AWS accounts or create new ones on the &#x27;Accounts&#x27; tab.  Accounts are responsible for the charges incurred by the resources that are deployed within the Service Workbench."><link data-rh="true" rel="icon" href="/service-workbench-on-aws-cn/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/post_deployment/aws_accounts"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/post_deployment/aws_accounts" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/post_deployment/aws_accounts" hreflang="x-default"><link rel="stylesheet" href="/service-workbench-on-aws-cn/assets/css/styles.a41df327.css">
<link rel="preload" href="/service-workbench-on-aws-cn/assets/js/runtime~main.720f0e63.js" as="script">
<link rel="preload" href="/service-workbench-on-aws-cn/assets/js/main.7542cd50.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/service-workbench-on-aws-cn/"><b class="navbar__title text--truncate">Home</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/service-workbench-on-aws-cn/introduction">English</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/introduction">Service Workbench</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/overview">Service Workbench Installation Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/configuration_guide/overview">Service Workbench Configuration Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/deployment/deployment_stages">Deployment Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/configuration_guide/overview">Service Workbench Configuration Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/">Service Workbench Post Deployment Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/">Post Deployment</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/">Post Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/account_structure">Account structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/reference/prepare_master_account">Prepare the organizational Account</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/appstream">Prepare your account for AppStream</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/aws_accounts">Create or add accounts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/create_index_project">Create indexes and projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/create_admin_user">Create an administrator user</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/import_service_catalog_products">Import AWS Service Catalog products</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/logs">Viewing Service Workbench logs</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/redeployment">Deploying Updates</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/deployment/reference/iam_role">Reference</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/user_guide/account_structure">Service Workbench User Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/best_practices/introduction">Best Practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/development/introduction">Development Guide</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/service-workbench-on-aws-cn/zh/introduction">中文</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/service-workbench-on-aws-cn/workshop/workshop_guide">动手实践</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/service-workbench-on-aws-cn/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">English</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Service Workbench Post Deployment Guide</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Post Deployment</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Create or add accounts</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Create or add accounts</h1></header><p>After logging in as <strong>root</strong> user for the first time, go to the &#x27;<strong>Accounts</strong>&#x27; page in the <a href="/service-workbench-on-aws-cn/user_guide/introduction">SideBar</a>. Service Workbench uses AWS accounts on this page for launching research workspaces. You can add existing AWS accounts or create new ones on the &#x27;<strong>Accounts</strong>&#x27; tab.  Accounts are responsible for the charges incurred by the resources that are deployed within the Service Workbench.</p><ul><li><p><strong>Create AWS Account</strong>: Creates a new AWS account using AWS Organizations.</p></li><li><p><strong>Add AWS Account</strong>: Imports an existing AWS account, which will be responsible for its own billing.</p></li></ul><p>Every user is linked to an <strong>Account</strong> through a <strong>Project</strong> and an <strong>Index</strong>, so at least one account must be created or added before creating the first user.</p><p><em><strong>Important:</strong> If you do not need to create new AWS accounts from within Service Workbench, then skip to the next section, &#x27;Add AWS Account&#x27; section below.</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-or-add-compute-hosting-accounts">Create or add compute hosting accounts<a class="hash-link" href="#create-or-add-compute-hosting-accounts" title="Direct link to heading">​</a></h2><p>After logging in as the root user for the first time, go to the <strong>Accounts</strong> page. </p><img loading="lazy" src="/service-workbench-on-aws-cn/img/deployment/post_deployment/navbar.png" class="img_ev3q"><p><strong>Figure: Service Workbench navigation bar</strong></p><p>Service Workbench uses AWS accounts on this page for launching research workspaces. You can add existing AWS accounts or create new ones on the <strong>Accounts</strong> tab.</p><ul><li><p><strong>Create AWS Account</strong>: Creates a new AWS account using AWS Organizations.  Note that <a href="/service-workbench-on-aws-cn/deployment/reference/prepare_master_account">Preparing the organizational account</a> steps outlined above are a pre-requisite should you require this capability.</p></li><li><p><strong>Add AWS Account</strong>: Associates an existing AWS account for purposes of hosting compute resources.  This account can be responsible for its own billing.</p></li></ul><p>Every user is linked to an account through a project and an index, so at least one account must be created or added before associating the first user to a project.</p><p><strong>Note</strong>: If you do not need to create new AWS accounts from within Service Workbench, then skip to Add AWS Account section.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-aws-account">Create AWS Account<a class="hash-link" href="#create-aws-account" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h3><p>Before creating an AWS account from Service Workbench, configure an existing AWS account to be the organizational account for Service Workbench (steps outlined in <a href="/service-workbench-on-aws-cn/deployment/reference/prepare_master_account">Preparing the organizational account</a> above). When Service Workbench creates new AWS accounts, billing for those accounts is applicable to the organizational account.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-new-account">Creating a new Account<a class="hash-link" href="#creating-a-new-account" title="Direct link to heading">​</a></h3><p>This creates a new hosting AWS account in the organization, whose billing goes to the organizational account. </p><img loading="lazy" src="/service-workbench-on-aws-cn/img/deployment/post_deployment/newacc1.png" class="img_ev3q"><p><em><strong>Figure: Create a new hosting account</strong></em></p><p>To create an account:</p><ol><li><p>In the Service Workbench console, choose <strong>AWS Accounts</strong> and then choose <strong>Create AWS Account</strong>.</p><ul><li>In <strong>Role ARN</strong>, enter the <strong>Master Role ARN</strong> copied from the <a href="/service-workbench-on-aws-cn/deployment/reference/prepare_master_account">Preparing the organizational account</a> steps.</li><li>The email address that you specify here must be unique within the organization.</li><li>The External ID is workbench by default. See <a href="/service-workbench-on-aws-cn/deployment/reference/aws_services#Organizations">IAM</a> for information on how to configure this to another value.</li></ul></li><li><p>During processing, the following information displays in the <strong>AWS Accounts</strong> tab:</p><ul><li><p>‘Trying to create accountID: xxx’</p></li><li><p>A workflow in progress in <strong>Workflows &gt; Provision Account</strong> (see <a href="http://swb-documentation.s3-website-us-east-1.amazonaws.com/user_guide/sidebar/admin/workflows/introduction" target="_blank" rel="noopener noreferrer">Workflows</a></p><p><strong>Note</strong>: If instead you see an error message such as, <code>Stop Internal State Account ID not found</code>, check that there is an AWS Organization in the console of your organizational account, if deploying Service Workbench in the organizational account. If you are deploying in a member account, check and ensure that you followed the steps described in <a href="/service-workbench-on-aws-cn/deployment/reference/prepare_master_account">Preparing the organizational account</a>.</p></li><li><p>Optionally, in the console, you can inspect the following resources deployed by this script.</p><ul><li>In AWS CloudFormation, a stack prep-master is running. It creates the master role and its output is the master role ARN.</li><li>In AWS Organizations, in the organizational account (see IAM), the new account displays. </li><li>In IAM, the new master role is created.</li></ul></li></ul></li><li><p>Once the account is created, it is listed in AWS Accounts.</p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="add-aws-account">Add AWS Account<a class="hash-link" href="#add-aws-account" title="Direct link to heading">​</a></h2><p>Adding an existing AWS account enables Service Workbench to launch research workspaces. The existing account alignment (standalone or associated to an an organization) determines the billing responsibility.</p><ol><li><p>On the <strong>Accounts</strong> Page, choose <strong>AWS Accounts</strong>, and then choose <strong>Add AWS Account</strong>.</p><img loading="lazy" src="/service-workbench-on-aws-cn/img/deployment/post_deployment/addacc1.png" class="img_ev3q"><p> <em><strong>Figure: Add an existing account</strong></em></p></li><li><p>Create and run the AWS CloudFormation template.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="if-appstream-is-not-enabled">If AppStream is not enabled<a class="hash-link" href="#if-appstream-is-not-enabled" title="Direct link to heading">​</a></h3><ul><li>Enter the <strong>Account Name</strong>, <strong>Account ID</strong> (12-digit AWS account ID for the account you wish to add), and <strong>Description</strong>.</li></ul><img loading="lazy" src="/service-workbench-on-aws-cn/img/deployment/post_deployment/addacc2.png" class="img_ev3q"><p><em><strong>Figure: Specify account details</strong></em></p><ul><li><p>The <strong>Onboard AWS Account</strong> screen is displayed, where you can select either of the following options:</p><ul><li><strong>I have admin access</strong> : You have administrator-level access to the hosting account that is being onboarded.  Selecting this and then proceeding launches the CloudFormation template within the hosting account.  Note that you need to be logged into the AWS account console for the hosting account when selecting this option and proceeding.</li><li><strong>I do not have admin access</strong> : The CloudFormation template is generated and you can then share the template to be run by the party that does have administrator access in the AWS account that you are onboarding.</li></ul></li></ul><img loading="lazy" src="/service-workbench-on-aws-cn/img/deployment/post_deployment/onboardacc.png" class="img_ev3q"><p><em><strong>Figure: Onboard AWS account</strong></em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="if-appstream-is-enabled">If AppStream is enabled<a class="hash-link" href="#if-appstream-is-enabled" title="Direct link to heading">​</a></h3><p>If you have chosen to enable AppStream for your installation, there are additional values required when onboarding a hosting account.</p><img loading="lazy" src="/service-workbench-on-aws-cn/img/deployment/post_deployment/appstream1.png" class="img_ev3q"><p><em><strong>Figure: Add account when AppStream is enabled</strong></em></p><ul><li><strong>AppStream Fleet Desired Instance</strong>: The maximum number of concurrently running AppStream sessions allowed.  If you set this to 5, that would mean that five workspaces can be viewed concurrently.</li><li><strong>AppStreamDisconnectTimeoutSeconds</strong>: With a minimum of 60 seconds, this is the amount between a researcher disconnection from a session (Manual Stop, Auto Stop, or Terminate) and the release of the AppStream instance that is supporting that session.</li><li><strong>AppStreamIdleDisconnectTimeoutSeconds</strong>: The amount of time that an AppStream session idle time (meaning no activity within the session) before the AppStream instance disconnects.</li></ul><img loading="lazy" src="/service-workbench-on-aws-cn/img/deployment/post_deployment/appstream2.png" class="img_ev3q"><p><em><strong>Figure: Add account when AppStream is enabled (contd..)</strong></em></p><ul><li><strong>AppStreamMaxUserDurationSeconds</strong>:  The maximum amount of time for an AppStream session.</li><li><strong>AppStreamImageName</strong>: The exact image name produced when you follow the instructions to build your AppStream image.</li><li><strong>AppStreamInstanceType</strong>: The instance type for your AppStream fleet.  Note that these instance types are unique to AppStream.  A complete list and specifications for valid instance types is available at <a href="https://aws.amazon.com/appstream2/pricing/" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/appstream2/pricing/</a> </li><li><strong>AppStreamFleetType</strong>: <code>ALWAYS_ON</code> ensures that the desired number of instances remain available at all times.  <code>ON_DEMAND</code> only runs the instances when required.  It is a cost versus convenience choice.</li></ul><p><strong>Note</strong>:  If you needed to change these values later, you can do so through the AWS Console of the hosting account without negative impact to Service Workbench.</p><p>Once these options are specified, choosing <strong>Onboard Account</strong> displays the <strong>Onboard AWS Account</strong> screen.  The same choice of admin vs. no admin access applies, but there are several important pre-requisites to complete before proceeding.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-rstudio-alb-workspace">Creating RStudio ALB workspace<a class="hash-link" href="#creating-rstudio-alb-workspace" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-rstudio-workspace">Accessing RStudio workspace<a class="hash-link" href="#accessing-rstudio-workspace" title="Direct link to heading">​</a></h3><p>You can access the RStudio workspace type by using the template and AMI provided in AWS partner&#x27;s <a href="https://github.com/RLOpenCatalyst/Service_Workbench_Templates" target="_blank" rel="noopener noreferrer">repository</a>. RStudio legacy and RStudio ALB both use custom domain names. You can define custom domain name in <code>/main/config/settings/&lt;stage.yml&gt;</code>.  </p><p><strong>Important</strong>: The legacy RStudio workspace type will be deprecated soon in a future release.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="application-load-balancing-for-rstudio-alb-workspace">Application load balancing for RStudio ALB workspace<a class="hash-link" href="#application-load-balancing-for-rstudio-alb-workspace" title="Direct link to heading">​</a></h3><p>When you create RStudio Application Load Balancer (ALB) workspace, an ALB is created that can host upto 100 workspaces per hosting account. Per workspace, you can have upto 4 CIDR blocks (IP ranges) for port 443 only. This is updated in the hosting accounts. If there are no ALBs for that hosting account and you have created the very first workspace, then ALB will be created for the first time and it will be common for every workspace that you create subsequently. Once you terminate all the workspaces and you terminate the last workspace for that hosting account, the ALB is deleted. An ALB is created for minimum one active workspace.</p><img loading="lazy" src="/service-workbench-on-aws-cn/img/deployment/post_deployment/ALB-1.png" class="img_ev3q"><p>Each workspace type corresponds to one listener rule and there can be 100 such rules. In each rule, users can specify the IP ranges that user wants to allowlist. You can specify only upto 4 IP ranges per listener rule. For more information about ALB, refer to <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/application/introduction.html" target="_blank" rel="noopener noreferrer">Application Load Balancer</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="limitations">Limitations<a class="hash-link" href="#limitations" title="Direct link to heading">​</a></h3><ol><li>With RStudio ALB implementation, you can create only upto 100 workspaces per hosting account.</li><li>Per workspace, you can specify only upto 4 CIDR blocks for port 443.</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/awslabs/go-research-on-aws/website/docs/deployment/post_deployment/aws_accounts.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/service-workbench-on-aws-cn/deployment/post_deployment/appstream"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Prepare your account for AppStream</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/service-workbench-on-aws-cn/deployment/post_deployment/create_index_project"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Create indexes and projects</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-or-add-compute-hosting-accounts" class="table-of-contents__link toc-highlight">Create or add compute hosting accounts</a></li><li><a href="#create-aws-account" class="table-of-contents__link toc-highlight">Create AWS Account</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#creating-a-new-account" class="table-of-contents__link toc-highlight">Creating a new Account</a></li></ul></li><li><a href="#add-aws-account" class="table-of-contents__link toc-highlight">Add AWS Account</a><ul><li><a href="#if-appstream-is-not-enabled" class="table-of-contents__link toc-highlight">If AppStream is not enabled</a></li><li><a href="#if-appstream-is-enabled" class="table-of-contents__link toc-highlight">If AppStream is enabled</a></li></ul></li><li><a href="#creating-rstudio-alb-workspace" class="table-of-contents__link toc-highlight">Creating RStudio ALB workspace</a><ul><li><a href="#accessing-rstudio-workspace" class="table-of-contents__link toc-highlight">Accessing RStudio workspace</a></li><li><a href="#application-load-balancing-for-rstudio-alb-workspace" class="table-of-contents__link toc-highlight">Application load balancing for RStudio ALB workspace</a></li><li><a href="#limitations" class="table-of-contents__link toc-highlight">Limitations</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/service-workbench-on-aws-cn/assets/js/runtime~main.720f0e63.js"></script>
<script src="/service-workbench-on-aws-cn/assets/js/main.7542cd50.js"></script>
</body>
</html>