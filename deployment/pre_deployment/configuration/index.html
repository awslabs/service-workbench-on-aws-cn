<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-deployment/pre_deployment/configuration">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Configuration | Service Workbench Platform</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/pre_deployment/configuration"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Configuration | Service Workbench Platform"><meta data-rh="true" name="description" content="**Note**: Setting the configuration is required. If you are deploying a simple installation, you can use the default configuration."><meta data-rh="true" property="og:description" content="**Note**: Setting the configuration is required. If you are deploying a simple installation, you can use the default configuration."><link data-rh="true" rel="icon" href="/service-workbench-on-aws-cn/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/pre_deployment/configuration"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/pre_deployment/configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/pre_deployment/configuration" hreflang="x-default"><link rel="stylesheet" href="/service-workbench-on-aws-cn/assets/css/styles.a41df327.css">
<link rel="preload" href="/service-workbench-on-aws-cn/assets/js/runtime~main.720f0e63.js" as="script">
<link rel="preload" href="/service-workbench-on-aws-cn/assets/js/main.7542cd50.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/service-workbench-on-aws-cn/"><b class="navbar__title text--truncate">Home</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configuration</h1></header><p><em><strong>Note</strong>: Setting the configuration is required. If you are deploying a simple installation, you can use the default configuration.</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stage-name">Stage Name<a class="hash-link" href="#stage-name" title="Direct link to heading">​</a></h2><p>A <strong>Stage Name</strong> is used to allow multiple Service Workbench deployments from the same account. The <strong>Stage Name</strong> will be the name of the configuration files and forms part of the name of the AWS resources created in this deployment. For limitations in <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer">Amazon Simple Storage Service (Amazon S3)</a> deployment buckets, the <strong>Stage Name</strong> should not be longer than 5 characters. Buckets are the fundamental containers in Amazon S3 for data storage.</p><p>You can select your own <strong>Stage Name</strong>; if you are planning to deploy the solution only once, a common convention, is to use your own login. In the following sections of the guide, customized <strong>Stage Name</strong> is represented as <code>&lt;stage&gt;</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="separately-deployable-components">Separately Deployable Components<a class="hash-link" href="#separately-deployable-components" title="Direct link to heading">​</a></h2><p>The Service Workbench code is divided into multiple (currently 7) Separately Deployable Components (SDCs) with names such as <strong>backend</strong>, <strong>UI</strong>, <strong>post-deployment</strong>, <strong>edge-lambda</strong>, <strong>infrastructure</strong>, <strong>machine-images</strong>, and <strong>prepare-aster-acc</strong>. Each SDC has a directory in the location, <code>main/solution</code>. While you can run the script that’s located in the root folder of the project that deploys all SDCs in a sequence, you can also deploy each SDC separately using individual scripts.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prepare-main-configuration-file">Prepare Main Configuration File<a class="hash-link" href="#prepare-main-configuration-file" title="Direct link to heading">​</a></h2><p>You can make a copy of the sample global config file, name it for your stage, and modify it. The current default values for the main configuration are stored in the default file in the directory, <code>main/config/settings/.defaults.yml</code>. If the stage-named settings file is not available, the values are read from this default file.</p><p>To create a custom (stage-named) settings file, in the directory, <code>main/config/settings</code>, copy <code>example.yml</code> to <code>&lt;stage&gt;.yml</code> and edit this new file. Default values are read from <code>.defaults.yml</code> unless the values are overridden in this file and have the values described in <strong>Table 2</strong>.</p><table><thead><tr><th align="left"><strong>Configuration</strong></th><th align="left"><strong>Value</strong></th></tr></thead><tbody><tr><td align="left">awsRegion</td><td align="left"><code>us-east-1</code></td></tr><tr><td align="left">awsProfile</td><td align="left">No default; set this to your current AWS profile unless using a default or instance profile.</td></tr><tr><td align="left">solutionName</td><td align="left"><code>sw</code></td></tr><tr><td align="left">envName</td><td align="left">Same as stage name.</td></tr><tr><td align="left">envType</td><td align="left"><code>prod</code></td></tr><tr><td align="left">enableExternalResearchers</td><td align="left"><code>false</code></td></tr></tbody></table><p><strong><em>Table 2: Configuration Values</em></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optional-custom-domain-names">(Optional) Custom Domain names<a class="hash-link" href="#optional-custom-domain-names" title="Direct link to heading">​</a></h2><p>To use a custom domain name, provide the following two values, (1) the domain name itself (2) the ARN for the manually-created TLS certificate to use from ACM.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">domainName: `host.domain.toplevel`</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">certificateArn: `&lt;ARN&gt;`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><em><strong>Note</strong>: The current implementation assumes that DNS is handled elsewhere; a future improvement will automatically handle creation of the cert and Route53 entries.</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="namespace">Namespace<a class="hash-link" href="#namespace" title="Direct link to heading">​</a></h2><p>The name of many deployed resources include a namespace string such
as <code>mystage-va-sw</code>. This string is made up by concatenating the following:</p><ul><li>Environment name</li><li>Region short name (eg: <code>va</code> for US-East-1, <code>or</code> for US-West-2,
defined in <code>.defaults.yml</code>)</li><li>Solution name</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optional-prepare-sdc-configuration-files">(Optional) Prepare SDC Configuration Files<a class="hash-link" href="#optional-prepare-sdc-configuration-files" title="Direct link to heading">​</a></h2><p>Each SDC has a <code>config/settings</code> directory, where you can place customized settings. Settings files are named after your <strong>Stage Name</strong>: <code>&lt;mystagename.yml&gt;</code>. Some of the SDC settings directories contain an <code>example.yml</code> file that may be copied and renamed as a settings file for that SDC. Otherwise, a default file <code>.defaults.yml</code> in that directory is read and used regardless of the <strong>Stage Name</strong>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/awslabs/go-research-on-aws/website/docs/deployment/pre_deployment/configuration.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#stage-name" class="table-of-contents__link toc-highlight">Stage Name</a></li><li><a href="#separately-deployable-components" class="table-of-contents__link toc-highlight">Separately Deployable Components</a></li><li><a href="#prepare-main-configuration-file" class="table-of-contents__link toc-highlight">Prepare Main Configuration File</a></li><li><a href="#optional-custom-domain-names" class="table-of-contents__link toc-highlight">(Optional) Custom Domain names</a></li><li><a href="#namespace" class="table-of-contents__link toc-highlight">Namespace</a></li><li><a href="#optional-prepare-sdc-configuration-files" class="table-of-contents__link toc-highlight">(Optional) Prepare SDC Configuration Files</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/service-workbench-on-aws-cn/assets/js/runtime~main.720f0e63.js"></script>
<script src="/service-workbench-on-aws-cn/assets/js/main.7542cd50.js"></script>
</body>
</html>