<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">Configuration | Service Workbench Platform</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/pre_deployment/configuration"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Configuration | Service Workbench Platform"><meta data-react-helmet="true" name="description" content="**Note**: Setting the configuration is required. If you are deploying a simple installation, you can use the default configuration."><meta data-react-helmet="true" property="og:description" content="**Note**: Setting the configuration is required. If you are deploying a simple installation, you can use the default configuration."><link data-react-helmet="true" rel="shortcut icon" href="/service-workbench-on-aws-cn/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/pre_deployment/configuration"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/pre_deployment/configuration" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/deployment/pre_deployment/configuration" hreflang="x-default"><link rel="stylesheet" href="/service-workbench-on-aws-cn/assets/css/styles.d97de6cb.css">
<link rel="preload" href="/service-workbench-on-aws-cn/assets/js/runtime~main.4cbe2071.js" as="script">
<link rel="preload" href="/service-workbench-on-aws-cn/assets/js/main.e8ff6809.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/service-workbench-on-aws-cn/"><b class="navbar__title">Home</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><main class="docMainContainer_r8cw docMainContainerEnhanced_SOUu"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configuration</h1></header><p><em><strong>Note</strong>: Setting the configuration is required. If you are deploying a simple installation, you can use the default configuration.</em></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="stage-name">Stage Name<a aria-hidden="true" class="hash-link" href="#stage-name" title="Direct link to heading">â€‹</a></h2><p>A <strong>Stage Name</strong> is used to allow multiple Service Workbench deployments from the same account. The <strong>Stage Name</strong> will be the name of the configuration files and forms part of the name of the AWS resources created in this deployment. For limitations in <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer">Amazon Simple Storage Service (Amazon S3)</a> deployment buckets, the <strong>Stage Name</strong> should not be longer than 5 characters. Buckets are the fundamental containers in Amazon S3 for data storage.</p><p>You can select your own <strong>Stage Name</strong>; if you are planning to deploy the solution only once, a common convention, is to use your own login. In the following sections of the guide, customized <strong>Stage Name</strong> is represented as <code>&lt;stage&gt;</code>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="separately-deployable-components">Separately Deployable Components<a aria-hidden="true" class="hash-link" href="#separately-deployable-components" title="Direct link to heading">â€‹</a></h2><p>The Service Workbench code is divided into multiple (currently 7) Separately Deployable Components (SDCs) with names such as <strong>backend</strong>, <strong>UI</strong>, <strong>post-deployment</strong>, <strong>edge-lambda</strong>, <strong>infrastructure</strong>, <strong>machine-images</strong>, and <strong>prepare-aster-acc</strong>. Each SDC has a directory in the location, <code>main/solution</code>. While you can run the script thatâ€™s located in the root folder of the project that deploys all SDCs in a sequence, you can also deploy each SDC separately using individual scripts.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="prepare-main-configuration-file">Prepare Main Configuration File<a aria-hidden="true" class="hash-link" href="#prepare-main-configuration-file" title="Direct link to heading">â€‹</a></h2><p>You can make a copy of the sample global config file, name it for your stage, and modify it. The current default values for the main configuration are stored in the default file in the directory, <code>main/config/settings/.defaults.yml</code>. If the stage-named settings file is not available, the values are read from this default file.</p><p>To create a custom (stage-named) settings file, in the directory, <code>main/config/settings</code>, copy <code>example.yml</code> to <code>&lt;stage&gt;.yml</code> and edit this new file. Default values are read from <code>.defaults.yml</code> unless the values are overridden in this file and have the values described in <strong>Table 2</strong>.</p><table><thead><tr><th align="left"><strong>Configuration</strong></th><th align="left"><strong>Value</strong></th></tr></thead><tbody><tr><td align="left">awsRegion</td><td align="left"><code>us-east-1</code></td></tr><tr><td align="left">awsProfile</td><td align="left">No default; set this to your current AWS profile unless using a default or instance profile.</td></tr><tr><td align="left">solutionName</td><td align="left"><code>sw</code></td></tr><tr><td align="left">envName</td><td align="left">Same as stage name.</td></tr><tr><td align="left">envType</td><td align="left"><code>prod</code></td></tr><tr><td align="left">enableExternalResearchers</td><td align="left"><code>false</code></td></tr></tbody></table><p><strong><em>Table 2: Configuration Values</em></strong></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="optional-custom-domain-names">(Optional) Custom Domain names<a aria-hidden="true" class="hash-link" href="#optional-custom-domain-names" title="Direct link to heading">â€‹</a></h2><p>To use a custom domain name, provide the following two values, (1) the domain name itself (2) the ARN for the manually-created TLS certificate to use from ACM.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">domainName: `host.domain.toplevel`</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">certificateArn: `&lt;ARN&gt;`</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><em><strong>Note</strong>: The current implementation assumes that DNS is handled elsewhere; a future improvement will automatically handle creation of the cert and Route53 entries.</em></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="namespace">Namespace<a aria-hidden="true" class="hash-link" href="#namespace" title="Direct link to heading">â€‹</a></h2><p>The name of many deployed resources include a namespace string such
as <code>mystage-va-sw</code>. This string is made up by concatenating the following:</p><ul><li>Environment name</li><li>Region short name (eg: <code>va</code> for US-East-1, <code>or</code> for US-West-2,
defined in <code>.defaults.yml</code>)</li><li>Solution name</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="optional-prepare-sdc-configuration-files">(Optional) Prepare SDC Configuration Files<a aria-hidden="true" class="hash-link" href="#optional-prepare-sdc-configuration-files" title="Direct link to heading">â€‹</a></h2><p>Each SDC has a <code>config/settings</code> directory, where you can place customized settings. Settings files are named after your <strong>Stage Name</strong>: <code>&lt;mystagename.yml&gt;</code>. Some of the SDC settings directories contain an <code>example.yml</code> file that may be copied and renamed as a settings file for that SDC. Otherwise, a default file <code>.defaults.yml</code> in that directory is read and used regardless of the <strong>Stage Name</strong>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/awslabs/go-research-on-aws/website/docs/deployment/pre_deployment/configuration.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#stage-name" class="table-of-contents__link toc-highlight">Stage Name</a></li><li><a href="#separately-deployable-components" class="table-of-contents__link toc-highlight">Separately Deployable Components</a></li><li><a href="#prepare-main-configuration-file" class="table-of-contents__link toc-highlight">Prepare Main Configuration File</a></li><li><a href="#optional-custom-domain-names" class="table-of-contents__link toc-highlight">(Optional) Custom Domain names</a></li><li><a href="#namespace" class="table-of-contents__link toc-highlight">Namespace</a></li><li><a href="#optional-prepare-sdc-configuration-files" class="table-of-contents__link toc-highlight">(Optional) Prepare SDC Configuration Files</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/service-workbench-on-aws-cn/assets/js/runtime~main.4cbe2071.js"></script>
<script src="/service-workbench-on-aws-cn/assets/js/main.e8ff6809.js"></script>
</body>
</html>