<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-installation_guide/installation/rstudio">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Setting up RStudio ALB workspace | Service Workbench Platform</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/installation_guide/installation/rstudio"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Setting up RStudio ALB workspace | Service Workbench Platform"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/service-workbench-on-aws-cn/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/installation_guide/installation/rstudio"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/installation_guide/installation/rstudio" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/service-workbench-on-aws-cn/installation_guide/installation/rstudio" hreflang="x-default"><link rel="stylesheet" href="/service-workbench-on-aws-cn/assets/css/styles.a41df327.css">
<link rel="preload" href="/service-workbench-on-aws-cn/assets/js/runtime~main.ce72e352.js" as="script">
<link rel="preload" href="/service-workbench-on-aws-cn/assets/js/main.7542cd50.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/service-workbench-on-aws-cn/"><b class="navbar__title text--truncate">Home</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/service-workbench-on-aws-cn/introduction">English</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/introduction">Service Workbench</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/overview">Service Workbench Installation Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/overview">Service Workbench overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/architecture">Service Workbench architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/components">Installation components</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/installation/pre-installation/overview">Pre-installation requirements</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/installation/ami-install">Installing Service Workbench</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/installation/ami-install">Installing AMIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/installation/ec2install">Installation using EC2 instance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/installation/cloud9install">Installing using Cloud9</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/installation/rstudio">Setting up RStudio ALB workspace</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/upgrading/commandline">Upgrading Service Workbench</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/postupgrade">Post upgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/uninstall">Uninstalling Service Workbench</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/troubleshooting">Troubleshooting</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/configuration_guide/overview">Service Workbench Configuration Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/service-workbench-on-aws-cn/deployment/deployment_stages">Deployment Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/deployment/deployment_stages">Deployment Stages</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/installation/pre-installation/overview">Pre-installation requirements</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/installation/ami-install">Installing Service Workbench</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/installation/ami-install">Installing AMIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/installation/ec2install">Installation using EC2 instance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/installation/cloud9install">Installing using Cloud9</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/installation/rstudio">Setting up RStudio ALB workspace</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/upgrading/commandline">Upgrading Service Workbench</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/postupgrade">Post upgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/uninstall">Uninstalling Service Workbench</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/service-workbench-on-aws-cn/installation_guide/troubleshooting">Troubleshooting</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/configuration_guide/overview">Service Workbench Configuration Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/deployment/post_deployment/">Service Workbench Post Deployment Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/user_guide/account_structure">Service Workbench User Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/best_practices/introduction">Best Practices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/service-workbench-on-aws-cn/development/introduction">Development Guide</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/service-workbench-on-aws-cn/zh/introduction">中文</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/service-workbench-on-aws-cn/workshop/workshop_guide">动手实践</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/service-workbench-on-aws-cn/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">English</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Service Workbench Installation Guide</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Installing Service Workbench</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Setting up RStudio ALB workspace</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Setting up RStudio ALB workspace</h1></header><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">​</a></h3><p>You can access the RStudio workspace type by using the template and AMI provided in AWS partner’s repository. The following table summarizes the sequence of steps that you need to follow to complete the installation for RStudio ALB workspace in the Service Workbench environment.</p><table><thead><tr><th>Task</th><th>Description</th></tr></thead><tbody><tr><td><a href="#createacct">Creating main account and hosting account</a></td><td>Provides information on how to set up the environment used for RStudio workspace types. In these accounts, you will set up hosted zones, configure the certificates required for deploying RStudio ALB workspace.</td></tr><tr><td><a href="#hostedzone">Creating a public hosted zone in the main account</a></td><td>Provides routing information about how you want to route traffic for a domain/subdomain.</td></tr><tr><td><a href="#nserver">Creating a new name server record in the shared domain</a></td><td>Provides a name to the hosted zone. Here, you will copy the values (containing routing information) that you created in the main account.</td></tr><tr><td><a href="#pubcert">Requesting a public certificate in main account for the hosted zone</a></td><td>Request a public certificate in the main account for the hosted zone. The region is chosen as <code>us-east-1</code>. Using this option, you request a public certificate from Amazon. By default, these public certificates are trusted by browsers and operating systems.</td></tr><tr><td><a href="#staging">Creating a staging file using the latest Service Workbench code</a></td><td>Download the latest Service Workbench code and set up the staging file for deploying RStudio ALB workspace. For more information about staging file, see <a href="/service-workbench-on-aws-cn/installation_guide/installation/pre-installation/conf-settings">Configuration settings</a>.</td></tr><tr><td><a href="#ami">Creating AMIs</a></td><td>Provides the basis of RStudio environment that researchers use for research. Refer to the AWS partner’s <a href="https://github.com/RLOpenCatalyst/Service_Workbench_Templates/blob/main/RStudio/machine-images/config/infra/README.md" target="_blank" rel="noopener noreferrer">README</a> for more information.</td></tr><tr><td><a href="#rstudio">Installing EC2 RStudio Server</a></td><td>Deploys RStudio into Service Workbench’s portfolio. Refer to the AWS partner’s <a href="https://github.com/RLOpenCatalyst/Service_Workbench_Templates/blob/main/RStudio/machine-images/config/infra/README.md" target="_blank" rel="noopener noreferrer">README</a> for more information.</td></tr><tr><td><a href="#newpubcert">Requesting a new public certificate within member account for hosted zone domain</a></td><td>Provides steps on how to request a public certificate for member (hosting) account using ACM. The certificate contains the ARN value that is used to import the products.</td></tr><tr><td><a href="#newrec">Creating a new record in the main account hosted zone</a></td><td>Validates the member account public certificate. Without the validation, no workspaces can be created.</td></tr><tr><td><a href="#swb">Accessing RStudio Workspace in Service Workbench</a></td><td>Configure RStudio ALB using Service Workbench.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-main-account-and-hosting-account">Creating main account and hosting account<a class="hash-link" href="#creating-main-account-and-hosting-account" title="Direct link to heading">​</a></h3><a name="createacct"></a><p><strong>Task</strong>: You will learn to create a main account and a hosting account and assign Admin role to these accounts.</p><ol><li>Choose <strong>Create/Register Account</strong>.</li><li>On the <strong>Account Creation</strong> page, choose <strong>Create</strong>.</li><li>On the <strong>Create AWS Accounts</strong> page, specify the account email address, account name, secondary owner, financial owner, ownership group, description, and account type.</li><li>Choose <strong>Submit</strong>.</li><li>Choose <strong>Manage Account</strong>.</li><li>Create a console role:<br>a. Choose <strong>Add</strong>.<br>b. For <strong>One Click Roles</strong>, choose <strong>Admin</strong>.</li></ol><p><strong>Note</strong>: Follow the same steps above to create a hosting account and choose the admin role. In the description, specify that it is a hosting account.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-public-hosted-zone-in-the-main-account">Creating a public hosted zone in the main account<a class="hash-link" href="#creating-a-public-hosted-zone-in-the-main-account" title="Direct link to heading">​</a></h3><a name="hostedzone"></a><p><strong>Task</strong>: You will learn to create a public hosted zone for the main account and add routing information to it. </p><ol><li>Sign in to the AWS Management Console.   </li><li>Under AWS Services, choose <strong>Route 53</strong>.     </li><li>On the Route 53 dashboard, choose <strong>Hosted zones</strong>.      </li><li>Choose <strong>Create hosted zone</strong>.</li><li>On the <strong>Create hosted zone</strong> page:<br>a.	For <strong>Domain name</strong>, enter the domain name.<br>b.	For <strong>Description – optional</strong>, enter the description.<br>c.	For <strong>Type</strong>, choose <strong>Public hosted zone</strong>.       </li><li>Choose <strong>Create hosted zone</strong>.     </li><li>Copy the values from the <strong>Value/Route traffic to</strong> field for later use.   </li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-new-name-server-record-in-the-shared-domain">Creating a new name server record in the shared domain<a class="hash-link" href="#creating-a-new-name-server-record-in-the-shared-domain" title="Direct link to heading">​</a></h3><a name="nserver"></a><p><strong>Task</strong>: You will learn to create a new record name for the public hosted zone.</p><ol><li>Sign in to the AWS Management Console.</li><li>Under AWS Services, choose <strong>Route 53</strong>.</li><li>On the Route 53 dashboard, choose <strong>Hosted zones</strong>.</li><li>Choose the hosted zone that you just created.</li><li>Choose <strong>Create record</strong>.</li><li>On the <strong>Quick create record</strong> page, choose <strong>Add another record</strong>.</li><li>For <strong>Record name</strong>, enter the name.</li><li>For <strong>Record type</strong>, choose <strong>NS – Name servers for a hosted zone</strong>.</li><li>For <strong>Value</strong>, enter the values that you copied from the Value/Route traffic to field earlier.</li><li>For <strong>TTL (seconds)</strong>, enter the value.</li><li>For <strong>Routing policy</strong>, choose <strong>Simple routing</strong>.</li><li>Choose <strong>Create records</strong>.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="requesting-a-public-certificate-in-main-account-for-the-hosted-zone">Requesting a public certificate in main account for the hosted zone<a class="hash-link" href="#requesting-a-public-certificate-in-main-account-for-the-hosted-zone" title="Direct link to heading">​</a></h3><a name="pubcert"></a><p><strong>Task</strong>: You will learn how to request a certificate for the main account in AWS Certificate Manager (ACM) and access the CNAME record details from that certificate.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="requesting-a-certificate-in-aws-certificate-manager">Requesting a certificate in AWS Certificate Manager<a class="hash-link" href="#requesting-a-certificate-in-aws-certificate-manager" title="Direct link to heading">​</a></h4><ol><li>Sign in to the AWS Management Console.    </li><li>Go to AWS Certificate Manager.<br><strong>Note</strong>: To use an ACM certificate with Amazon CloudFront, you must request or import the certificate in the US East (N. Virginia) region.      </li><li>Choose <strong>Request a certificate</strong>.     </li><li>On the <strong>Request certificate</strong> page, choose <strong>Request a public certificate</strong>.     </li><li>Choose <strong>Next</strong>.      </li><li>On the <strong>Request a public certificate</strong> page:<br>a.	For <strong>Domain names</strong>, enter the domain name.<br>b.	For <strong>Select validation method</strong>, choose <strong>DNS validation – recommended</strong>.     </li><li>Choose <strong>Request</strong>.    </li><li>Refresh your screen to view the newly created certificate.     </li><li>Choose the certificate to view the details.       </li><li>Under <strong>Domains</strong>, copy the values for <strong>CNAME name</strong> and <strong>CNAME value</strong>.       </li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-new-record-in-the-main-account">Creating a new record in the main account<a class="hash-link" href="#creating-a-new-record-in-the-main-account" title="Direct link to heading">​</a></h4><ol><li>Go the main account. </li><li>Choose the hosted zone created earlier. See <a href="#hostedzone">Creating a public hosted zone in the main account</a>.</li><li>Create a new record.</li><li>For <strong>Record name</strong>, paste the first part of the <strong>CNAME</strong> record created in the previous section. </li><li>For <strong>Value</strong>, paste the <strong>CNAME value</strong> copied in the previous section.</li><li>Choose <strong>Create records</strong>.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-staging-file-using-the-latest-service-workbench-code">Creating a staging file using the latest Service Workbench code<a class="hash-link" href="#creating-a-staging-file-using-the-latest-service-workbench-code" title="Direct link to heading">​</a></h3><a name="staging"></a><p><strong>Task</strong>: You will learn how to create and configure the staging file for setting up the RStudio ALB workspace.</p><ol><li>Go to the <code>/main/config/settings</code> directory.    </li><li>Create a new staging file. Example:<br><code>cp example.yml albr.yml</code></li><li>In the newly created stage file, remove comments and keep awsRegion as us-east-1. You can change the value of awsProfile , for example, rstudio. Update the configuration (config file) and credentials (credentials file) within the <code>.aws</code> folder so that the new account details are included. The updated config file should have the following values: <code>region</code> (default is <code>us-east-1</code>), output (<code>yaml</code>), <code>account_id</code>, and <code>role_name</code>. To update credentials, you need to create a CLI user. For more information on creating a user, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html" target="_blank" rel="noopener noreferrer">IAM users</a>.     </li><li>For <code>solutionName</code>, enter <code>sw</code>.     </li><li>For <code>envName</code>, enter the stage name, for example, <code>albr</code>.      </li><li>For <code>envType</code>, enter a name, for example, <code>dev</code>.     </li><li>For <code>createServiceCatalogPortfolio</code>, enter the value as <code>true</code>.      </li><li>For <code>rootUserEmail</code>, enter the email address.      </li><li>For <code>domainName</code>, enter the domain name of the main account hosted zone.       </li><li>For <code>certificateArn</code>, copy the certificate ARN of the main account and paste it.       </li><li>From <code>defaults.yml</code> file, copy the hostedZoneId into the newly created staging file (for example, <code>albr.yml</code>). </li><li>Copy the Hosted zone ID details Hosted zone page in Route 53 and paste it in <code>hostedZoneId</code> in your staging file.     </li></ol><p>Your new stage file is now ready for deployment.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-amis">Creating AMIs<a class="hash-link" href="#creating-amis" title="Direct link to heading">​</a></h3><a name="ami"></a><p>Follow the instructions in the README to install EC2 RStudio server AMIs. You can go to your main account and access these AMIs under Images.</p><p>Note: Edit the configuration file (<code>RStudio/machine-images/config/infra/configuration.json</code>). You need to update the region (to match your deployment config file), <code>amiName</code> (suggested: <code>rstudio-alb</code>), and <code>awsProfile</code> (to match your deployment config file). Update <code>stageName</code> to match your deployment configuration file.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-ec2-rstudio-server">Installing EC2 RStudio Server<a class="hash-link" href="#installing-ec2-rstudio-server" title="Direct link to heading">​</a></h3><a name="rstudio"></a><p>Follow the instructions in the README to install EC2 RStudio server.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="requesting-a-new-public-certificate-within-member-account-for-hosted-zone-domain">Requesting a new public certificate within member account for hosted zone domain<a class="hash-link" href="#requesting-a-new-public-certificate-within-member-account-for-hosted-zone-domain" title="Direct link to heading">​</a></h3><a name="newpubcert"></a><p><strong>Task</strong>: You will learn to request a public certificate for member (hosting) account using ACM and copy the ARN value.</p><ol><li>Sign in to the AWS Management Console.</li><li>Choose Certificate Manager. </li><li>On the <strong>AWS Certificate Manager</strong> page, choose <code>Request a certificate</code>.</li><li>Choose <code>Next</code>.</li><li>For <code>Certificate type</code>, choose <code>Request a public certificate</code>.</li><li>Choose <code>Next</code>.</li><li>On the <code>Request a public certificate</code> page:<br>a.	For <code>Domain names</code>, enter the domain name in the following two ways: <code>example.corp.com</code> and <code>*.example.corp.com</code>. Here, <code>example.corp.com</code> is the full domain name.<br>b.	For <strong>Select validation method</strong>, choose <strong>DNS validation – recommended</strong>.       </li><li>Choose <strong>Request</strong>.</li><li>On the <strong>Certificate</strong> page, within Certificate status, copy the ARN. The ARN will be used to import the products.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-new-record-in-the-main-account-hosted-zone">Creating a new record in the main account hosted zone<a class="hash-link" href="#creating-a-new-record-in-the-main-account-hosted-zone" title="Direct link to heading">​</a></h3><a name="newrec"></a><p><strong>Task</strong>: This task validates the member account public certificate. </p><ol><li>Go to the hosting account certificate manager.</li><li>On the certificate page, copy values for <code>CNAME name</code> and <code>CNAME value</code>.</li><li>Switch over to the main account.</li><li>On the AWS Management Console, choose <strong>Route 53</strong>.</li><li>Choose <strong>Hosted zones</strong>.</li><li>Choose the domain name.</li><li>Choose <strong>Create new record</strong>.</li><li>For <strong>Record name</strong>, paste the first part of the CNAME record created in the previous section. </li><li>For <strong>Record type</strong>, choose <strong>CNAME – Routes traffic to another domain</strong>.</li><li>For <strong>Value</strong>, paste the <strong>CNAME value</strong> copied in the previous section.</li><li>Choose <strong>Create records</strong>.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-rstudio-workspace-in-service-workbench">Accessing RStudio Workspace in Service Workbench<a class="hash-link" href="#accessing-rstudio-workspace-in-service-workbench" title="Direct link to heading">​</a></h3><a name="swb"></a><p><strong>Task</strong>: You will log in to Service Workbench, create a user and configure the account for using RStudio ALN workspace.</p><ol><li>Sign in to Service Workbench first time as the root user.</li><li>Add a local user.</li><li>For <strong>Accounts</strong>, <strong>AWS Accounts</strong>, <strong>Add AWS Account</strong>, add the member account.</li><li>For <strong>Accounts</strong>, <strong>Indexes</strong>, <strong>Add Index</strong> associated with member account, create an index.</li><li>For <strong>Accounts</strong>, <strong>Projects</strong>, <strong>Add Project</strong> associated with that index, create a new project.</li><li>For <strong>Users</strong>, <strong>Users</strong>, <strong>Detail</strong>, <strong>Edit</strong>, associate the user with the new project.</li><li>Import EC2 RStudio Server and add new configuration for the workspace type. <code>ACMSSLCertArn</code> is asking for the member account certificate ARN. </li><li>Enter the instance type for the EC2 instance. <code>AmiId</code> is the AMI ID of the newly created AMI in the main account. </li><li>Approve the configuration.</li><li>Create a new workspace in by selecting the RStudio Server workspace type and configuration.</li><li>Connect to the RStudio Workspace. Make sure popups are enabled.</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/awslabs/go-research-on-aws/website/docs/installation_guide/installation/rstudio.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/service-workbench-on-aws-cn/installation_guide/installation/cloud9install"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installing using Cloud9</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/service-workbench-on-aws-cn/installation_guide/upgrading/commandline"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Upgrade process for command line installations</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#creating-main-account-and-hosting-account" class="table-of-contents__link toc-highlight">Creating main account and hosting account</a></li><li><a href="#creating-a-public-hosted-zone-in-the-main-account" class="table-of-contents__link toc-highlight">Creating a public hosted zone in the main account</a></li><li><a href="#creating-a-new-name-server-record-in-the-shared-domain" class="table-of-contents__link toc-highlight">Creating a new name server record in the shared domain</a></li><li><a href="#requesting-a-public-certificate-in-main-account-for-the-hosted-zone" class="table-of-contents__link toc-highlight">Requesting a public certificate in main account for the hosted zone</a></li><li><a href="#creating-a-staging-file-using-the-latest-service-workbench-code" class="table-of-contents__link toc-highlight">Creating a staging file using the latest Service Workbench code</a></li><li><a href="#creating-amis" class="table-of-contents__link toc-highlight">Creating AMIs</a></li><li><a href="#installing-ec2-rstudio-server" class="table-of-contents__link toc-highlight">Installing EC2 RStudio Server</a></li><li><a href="#requesting-a-new-public-certificate-within-member-account-for-hosted-zone-domain" class="table-of-contents__link toc-highlight">Requesting a new public certificate within member account for hosted zone domain</a></li><li><a href="#creating-a-new-record-in-the-main-account-hosted-zone" class="table-of-contents__link toc-highlight">Creating a new record in the main account hosted zone</a></li><li><a href="#accessing-rstudio-workspace-in-service-workbench" class="table-of-contents__link toc-highlight">Accessing RStudio Workspace in Service Workbench</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/service-workbench-on-aws-cn/assets/js/runtime~main.ce72e352.js"></script>
<script src="/service-workbench-on-aws-cn/assets/js/main.7542cd50.js"></script>
</body>
</html>